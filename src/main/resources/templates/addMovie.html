<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Dodaj film</title>
    <link href="/webjars/materializecss/1.0.0/css/materialize.css"
          type="text/css" rel="stylesheet" media="screen,prjection"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
<div class="row">
    <div th:replace="main.html :: mainMenu">
    </div>

    <h2 class="indigo-text center">Dodaj film</h2>
    <form th:action="@{/add-movie}" method="post" th:object="${movieForm}" class="col m8 s12 offset-m2">
        <div th:fragment="movieForm">
            <div class="row">
                <div class="input-field col s6">
                    <input th:field="${movieForm.title}" id="title" type="text" th:errorclass="invalid"/>
                    <label for="title">Tytuł</label>
                    <div th:errors="*{title}" class="red-text">Błąd</div>
                </div>
                <div class="input-field col s6">
                    <input th:field="${movieForm.productionYear}" id="productionYear" type="number" th:errorclass="invalid"/>
                    <label for="productionYear">Rok produkcji</label>
                    <div th:errors="*{productionYear}" class="red-text">Błąd</div>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s6">
                    <input th:field="${movieForm.lengthMinutes}" id="lengthMinutes" type="number" th:errorclass="invalid"/>
                    <label for="lengthMinutes">Długość w minutach</label>
                    <div th:errors="*{lengthMinutes}" class="red-text">Błąd</div>
                </div>
                <div class="input-field col s6">
                    <select id="genre" name="genre">
                        <option th:each="gen : ${genres}" th:value="${gen.name()}"
                                th:text="${gen.getDisplayName()}"
                                th:selected="${movieForm.genre.equals(gen.name())}">
                        </option>
                    </select>
                    <label for="genre">Gatunek</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s6">
                    <input th:field="${movieForm.director}" id="director" type="text" th:errorclass="invalid"/>
                    <label for="director">Reżyser</label>
                    <div th:errors="*{director}" class="red-text">Błąd</div>
                </div>
                <div class="input-field col s6">
                    <input th:field="${movieForm.allowedFromAge}" id="allowedFromAge" type="number" th:errorclass="invalid"/>
                    <label for="allowedFromAge">Dozwolony od lat</label>
                    <div th:errors="*{allowedFromAge}" class="red-text">Błąd</div>
                </div>
            </div>
        </div>
        <div class="row s12">
            <button class="btn waves-effect waves-light" type="submit">Zatwierdź
                <i class="material-icons right">send</i>
            </button>
        </div>
    </form>
</div>
<script src="/webjars/jquery/3.4.1/jquery.js"></script>
<script src="/webjars/materializecss/1.0.0/js/materialize.js"></script>
<script>
    $(document).ready(function(){
        $('select').formSelect();
    });
</script>
</body>
</html>